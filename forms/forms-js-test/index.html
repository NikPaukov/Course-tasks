<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css">
  <title>Document</title>
</head>
<body>
    <div class="line-div">

        <div id="dot-1" class="dot"data-color="red"></div>
        <div id="line-1"class="line"data-color="white"></div>
        <div id="dot-2"class="dot"data-color="white"></div>
        <div id="line-2"class="line"data-color="white"></div>
        <div id="dot-3" class="dot"data-color="white"></div>
        <div id="line-3"class="line"data-color="white"></div>
        <div id="dot-4"class="dot"data-color="white"></div>
        <div id="line-4"class="line"data-color="white"></div>
        <div id="dot-5"class="dot" data-color="white"></div>
    </div>
    <h1>Important form</h1>
    <form action="submit.html">

        <fieldset id="first-field">
            <h2>Personal Info</h2>
            <input required type="text" name="Surname1" id="Surname1" placeholder="Surname">
            <input required type="text" name="firstname" id="firstname" placeholder="Firstname">
            <input required   type="text" name="birthdate" id="birthdate" onfocus="(this.type='date')" onblur="(this.type='text')" placeholder="Birthdate">
            <input required   type="number" name="insurance" id="insurance" placeholder="Insurance number">
            <select required   id="family-status", id="family-status", aria-placeholder="Family status">
                <option selected disabled>Family status</option>
                <option >Married</option>
                <option >Single</option>
                <option>It`s complicated</option>
                </select>
            </fieldset>

            <fieldset id ="second-field">
                <h2>Adress</h2>
               <input required type="text" id="street" name="street" placeholder="Street, nbr">
               <input required type="text" id="city" name="city" placeholder="City">
               <input required type="number" id="postcode" name="postcode" placeholder="Postcode" min =0>
               <input required type="text" id="country" name="country" placeholder="Country">
            </fieldset>

            <fieldset  id="third-field">
                <h2>Application</h2>
               <input required type="email" id="email" name="email" placeholder="Email adress">
               <input required type="tel" id="phone" name="phone" placeholder="Phone number">
               <input required type="text" id="tg" name="tg" placeholder="Telegram">
            </fieldset>

            <fieldset  id="fourth-field">
                <h2>Applicatopn</h2>
               <input required type="text" id="enteranceDate" name="enteranceDate" onfocus="(this.type='date')" onblur="(this.type='text')" placeholder="Prefered Enterence date">
               <input required type="number" id="numOfPeople" name="numOfPeople" placeholder="Prefered number of people">
            </fieldset>

            <fieldset  id="fivth-field">
                <h2>General conditions</h2>
               <textarea required name="conditions" id="conditions" placeholder="Write Here"></textarea>
            </fieldset>


        <div class="buttons">
            <button type="button"id="BackButton" style="display:none;" onclick="prev()" class="prev"> <span>Previous</span></button>
            <button type="button"id="NextButton" onclick="change=next()" class="next"> <span>Next</span></button>
            <button type="submit" style="display: none;"  id="SubmitButton" class="next"> <span>Submit</span></button>
        </div>
    </form>
   
    <script>
        function sleep (time) {
  return new Promise((resolve) => setTimeout(resolve, time));
}
;
    </script>
    <script>
      


        var Pages = new Array('first-field', 'second-field', 'third-field', 'fourth-field', 'fivth-field');
        var pagesIter = 0;
        var dotsIter = 2;
        var linesIter = 1;
        function next(){
            
           
            var thisPage = document.getElementById(Pages[pagesIter]);
            var nextPage = document.getElementById(Pages[++pagesIter]) 

           
            thisPage.classList.add("page-anim");
            sleep(500).then(()=>{
                thisPage.style.display='none';
            })
            nextPage.classList.add("page-anim-reverse");
            sleep(500).then(()=>{   
                nextPage.style.display='flex';
            })                 


            if(pagesIter==1){
                document.getElementById("BackButton").style.display='block';
            }
            if(Pages[pagesIter] == 'fivth-field'){
                document.getElementById("NextButton").style.display='none';
                document.getElementById("SubmitButton").style.display='block';

            }
            document.getElementById('dot-'+dotsIter++).setAttribute('data-color','red');
             document.getElementById('line-'+linesIter++).setAttribute('data-color','red');
        
            sleep(1000).then(()=>{
             thisPage.classList.remove("page-anim");
             nextPage.classList.remove("page-anim-reverse");
            })
        }
            
            function prev(){
                var thisPage = document.getElementById(Pages[pagesIter]);
                var prevPage=  document.getElementById(Pages[--pagesIter]);
                
                thisPage.classList.add("page-anim");
                sleep(500).then(()=>{
                    thisPage.style.display='none';
                })
            
                prevPage.classList.add("page-anim-reverse")
                sleep(500).then(()=>{
                    prevPage.style.display='flex';
                })  

            if(pagesIter==0){
                document.getElementById("BackButton").style.display='none';
            }
            if(pagesIter==Pages.length-2){
                document.getElementById("NextButton").style.display='flex';
                document.getElementById("SubmitButton").style.display='none';
            }

            document.getElementById('dot-'+--dotsIter).setAttribute('data-color','white');
            document.getElementById('line-'+--linesIter).setAttribute('data-color','white');
            sleep(1000).then(()=>{
                thisPage.classList.remove("page-anim");
                prevPage.classList.remove("page-anim-reverse");   
            })
        }

    
        
    </script>
</body>
</html>